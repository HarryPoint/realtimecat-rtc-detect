!function(e){"use strict";function i(i,n){var r=e.external||{};for(var t in r)if(i.test(n?r[t]:t))return!0;return!1}function n(){var e,i,n,r=(t.appVersion,t.userAgent),a=t.appName,p=""+parseFloat(t.appVersion),f=parseInt(t.appVersion,10);return-1!=(i=r.indexOf("OPR/"))?(a="Opera",p=r.substring(i+4)):-1!==(i=r.indexOf("Opera"))?(a="Opera",p=r.substring(i+6),-1!==(i=r.indexOf("Version"))&&(p=r.substring(i+8))):-1!==(i=r.indexOf("MSIE"))?(a="IE",p=r.substring(i+5)):-1!==(i=r.indexOf("Chrome"))?(a="Chrome",p=r.substring(i+7)):-1!==(i=r.indexOf("Safari"))?(a="Safari",p=r.substring(i+7),-1!==(i=r.indexOf("Version"))&&(p=r.substring(i+8))):-1!==(i=r.indexOf("Firefox"))?(a="Firefox",p=r.substring(i+8)):(e=r.lastIndexOf(" ")+1)<(i=r.lastIndexOf("/"))&&(a=r.substring(e,i),p=r.substring(i+1),a.toLowerCase()===a.toUpperCase()&&(a=t.appName)),s&&(a="Edge",p=parseInt(t.userAgent.match(/Edge\/(\d+).(\d+)$/)[2],10).toString()),d&&(a="QQ",p=parseInt(t.userAgent.match(/QQBrowser\/(\d+).(\d+)/)[2],10).toString()),o&&(a="Sougou",p=parseInt(t.userAgent.match(/MetaSr (\d+).(\d+)/)[2],10).toString()),u&&(a="Baidu",p=parseInt(t.userAgent.match(/BIDUBrowser\/(\d+).(\d+)/)[2],10).toString()),c&&(a="Liebao",p=""),-1!==(n=p.indexOf(";"))&&(p=p.substring(0,n)),-1!==(n=p.indexOf(" "))&&(p=p.substring(0,n)),f=parseInt(""+p,10),isNaN(f)&&(p=""+parseFloat(t.appVersion),f=parseInt(t.appVersion,10)),{fullVersion:p,version:f,name:a}}function r(i){if(m){if(!t.enumerateDevices&&e.MediaStreamTrack&&e.MediaStreamTrack.getSources&&(t.enumerateDevices=e.MediaStreamTrack.getSources.bind(e.MediaStreamTrack)),!t.enumerateDevices&&t.enumerateDevices&&(t.enumerateDevices=t.enumerateDevices.bind(t)),!t.enumerateDevices)return void(i&&i());g=[],t.enumerateDevices(function(e){e.forEach(function(e){var i={};for(var n in e)i[n]=e[n];"audio"===i.kind&&(i.kind="audioinput"),"video"===i.kind&&(i.kind="videoinput");var r;g.forEach(function(e){e.id===i.id&&e.kind===i.kind&&(r=!0)}),r||(i.deviceId||(i.deviceId=i.id),i.id||(i.id=i.deviceId),i.label||(i.label="Please invoke getUserMedia once.",b||(i.label="HTTPs is required to get label of this "+i.kind+" device.")),"audioinput"===i.kind&&(v=!0),"audiooutput"===i.kind&&(O=!0),"videoinput"===i.kind&&(k=!0),g.push(i))}),"undefined"!=typeof l&&(l.MediaDevices=g,l.hasMicrophone=v,l.hasSpeakers=O,l.hasWebcam=k),i&&i()})}}var t=e.navigator;t.mediaDevices&&t.mediaDevices.enumerateDevices&&(t.enumerateDevices=function(e){t.mediaDevices.enumerateDevices().then(e)}),"undefined"!=typeof t?("undefined"!=typeof t.webkitGetUserMedia&&(t.getUserMedia=t.webkitGetUserMedia),"undefined"!=typeof t.mozGetUserMedia&&(t.getUserMedia=t.mozGetUserMedia)):t={getUserMedia:function(){},userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45"};var a=!!t.userAgent.match(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile/i),s=!(-1===t.userAgent.indexOf("Edge")||!t.msSaveOrOpenBlob&&!t.msSaveBlob),d=/QQBrowser/.test(t.userAgent),o=/MetaSr/.test(t.userAgent),u=/BIDUBrowser/.test(t.userAgent),c=i(/^liebao/i,0),p="Unknown OS",f={Android:function(){return t.userAgent.match(/Android/i)},BlackBerry:function(){return t.userAgent.match(/BlackBerry/i)},iOS:function(){return t.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return t.userAgent.match(/Opera Mini/i)},Windows:function(){return t.userAgent.match(/IEMobile/i)},any:function(){return f.Android()||f.BlackBerry()||f.iOS()||f.Opera()||f.Windows()},getOsName:function(){var e="Unknown OS";return f.Android()&&(e="Android"),f.BlackBerry()&&(e="BlackBerry"),f.iOS()&&(e="iOS"),f.Opera()&&(e="Opera Mini"),f.Windows()&&(e="Windows"),e}};f.any()?p=f.getOsName():(-1!==t.appVersion.indexOf("Win")&&(p="Windows"),-1!==t.appVersion.indexOf("Mac")&&(p="OSX"),-1!==t.appVersion.indexOf("X11")&&(p="UNIX"),-1!==t.appVersion.indexOf("Linux")&&(p="Linux"));var g=[],m=!1;"undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack?m=!0:t.mediaDevices&&t.mediaDevices.enumerateDevices&&(m=!0);var v=!1,O=!1,k=!1,l=e.RTCDetect={},b="https:"===location.protocol;l.browser=n(),l.browser["is"+l.browser.name]=!0,l.isMobileDevice=a,l.osName=p,l.init=function(e){this.initCallback=e,r(e)}}(window);