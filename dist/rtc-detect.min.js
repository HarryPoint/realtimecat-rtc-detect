!function(e){"use strict";function r(){function r(r,n){var i=e.external||{};for(var a in i)if(r.test(n?i[a]:a))return!0;return!1}var n,i,a,t=(navigator.appVersion,navigator.userAgent),o=navigator.appName,s=""+parseFloat(navigator.appVersion),u=parseInt(navigator.appVersion,10);-1!=(i=t.indexOf("OPR/"))?(o="Opera",s=t.substring(i+4)):-1!==(i=t.indexOf("Opera"))?(o="Opera",s=t.substring(i+6),-1!==(i=t.indexOf("Version"))&&(s=t.substring(i+8))):-1!==(i=t.indexOf("MSIE"))?(o="IE",s=t.substring(i+5)):-1!==(i=t.indexOf("Chrome"))?(o="Chrome",s=t.substring(i+7)):-1!==(i=t.indexOf("Safari"))?(o="Safari",s=t.substring(i+7),-1!==(i=t.indexOf("Version"))&&(s=t.substring(i+8))):-1!==(i=t.indexOf("Firefox"))?(o="Firefox",s=t.substring(i+8)):(n=t.lastIndexOf(" ")+1)<(i=t.lastIndexOf("/"))&&(o=t.substring(n,i),s=t.substring(i+1),o.toLowerCase()===o.toUpperCase()&&(o=navigator.appName));var d=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveOrOpenBlob&&!navigator.msSaveBlob),v=/QQBrowser/.test(navigator.userAgent),c=/MetaSr/.test(navigator.userAgent),g=/BIDUBrowser/.test(navigator.userAgent),p=r(/^liebao/i,0);return d&&(o="Edge",s=parseInt(navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)[2],10).toString()),v&&(o="QQ",s=parseInt(navigator.userAgent.match(/QQBrowser\/(\d+).(\d+)/)[2],10).toString()),c&&(o="Sougou",s=parseInt(navigator.userAgent.match(/MetaSr (\d+).(\d+)/)[2],10).toString()),g&&(o="Baidu",s=parseInt(navigator.userAgent.match(/BIDUBrowser\/(\d+).(\d+)/)[2],10).toString()),p&&(o="Liebao",s=""),-1!==(a=s.indexOf(";"))&&(s=s.substring(0,a)),-1!==(a=s.indexOf(" "))&&(s=s.substring(0,a)),u=parseInt(""+s,10),isNaN(u)&&(s=""+parseFloat(navigator.appVersion),u=parseInt(navigator.appVersion,10)),{fullVersion:s,version:u,name:o}}function n(){var e="Unknown OS",r={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.Android()||r.BlackBerry()||r.iOS()||r.Opera()||r.Windows()},getOsName:function(){var e="Unknown OS";return r.Android()&&(e="Android"),r.BlackBerry()&&(e="BlackBerry"),r.iOS()&&(e="iOS"),r.Opera()&&(e="Opera Mini"),r.Windows()&&(e="Windows"),e}};return r.any()?e=r.getOsName():(-1!==navigator.appVersion.indexOf("Win")&&(e="Windows"),-1!==navigator.appVersion.indexOf("Mac")&&(e="OSX"),-1!==navigator.appVersion.indexOf("X11")&&(e="UNIX"),-1!==navigator.appVersion.indexOf("Linux")&&(e="Linux")),e}function i(r){if(!navigator.enumerateDevices&&e.MediaStreamTrack&&e.MediaStreamTrack.getSources&&(navigator.enumerateDevices=e.MediaStreamTrack.getSources.bind(e.MediaStreamTrack)),!navigator.enumerateDevices&&navigator.enumerateDevices&&(navigator.enumerateDevices=navigator.enumerateDevices.bind(navigator)),!navigator.enumerateDevices){if("undefined"!=typeof c&&(c.MediaDevices=s,c.hasMicrophone=u,c.hasSpeakers=d,c.hasWebcam=v),!r)throw new Error("您的浏览器尚不支持检测设备的方法, Neither navigator.mediaDevices.enumerateDevices NOR MediaStreamTrack.getSources are available.");return void r(new Error("您的浏览器尚不支持检测设备的方法, Neither navigator.mediaDevices.enumerateDevices NOR MediaStreamTrack.getSources are available."))}s=[],navigator.enumerateDevices(function(e){e.forEach(function(e){var r={};for(var n in e)r[n]=e[n];"audio"===r.kind&&(r.kind="audioinput"),"video"===r.kind&&(r.kind="videoinput");var i;s.forEach(function(e){e.id===r.id&&e.kind===r.kind&&(i=!0)}),i||(r.deviceId||(r.deviceId=r.id),r.id||(r.id=r.deviceId),r.label||(r.label="Please invoke getUserMedia once.",g||(r.label="HTTPs is required to get label of this "+r.kind+" device.")),"audioinput"===r.kind&&(u=!0),"audiooutput"===r.kind&&(d=!0),"videoinput"===r.kind&&(v=!0),s.push(r))}),"undefined"!=typeof c&&(c.MediaDevices=s,c.hasMicrophone=u,c.hasSpeakers=d,c.hasWebcam=v),r&&r(null)})}function a(){var e=!1;return"undefined"!=typeof navigator.webkitGetUserMedia||"undefined"!=typeof navigator.mozGetUserMedia?e=!0:navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(e=!0),e}function t(){var r=!1;return r=["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection"].some(function(r){return r in e})}function o(){var r=!1;try{var n=e.RTCPeerConnection||e.webkitRTCPeerConnection||e.mozRTCPeerConnection;if(n){var i=new n({iceServers:[{url:"stun:0"}]});r="createDataChannel"in i}}catch(a){r=!1}return r}var s=[],u=!1,d=!1,v=!1;navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=function(e){navigator.mediaDevices.enumerateDevices().then(e)});var c=e.RTCDetect={},g="https:"===location.protocol;c.browser=r(),c.browser["is"+c.browser.name]=!0,c.osName=n(),c.getUserMediaSupport=a(),c.browser.isChrome&&c.browser.version>=46&&!g&&(c.getUserMediaSupport="Requires HTTPs"),c.RTCPeerConnectionSupport=t(),c.dataChannelSupport=o(),c.WebSocketSupport="WebSocket"in e&&2===e.WebSocket.CLOSING;var p=!1;c.browser.isChrome&&c.browser.version>=35&&(p=!0),g||(p=!1),c.screenCaputringSupport=p;var f=!1;(c.browser.isChrome||c.browser.isFirefox||c.browser.isOpera)&&(f=!0),c.RTCatSupport=f,c.ORTCSupport="undefined"!=typeof RTCIceGatherer,c.init=function(e){i(e)}}(window);