!function(e){"use strict";function n(){function n(n,r){var i=e.external||{};for(var a in i)if(n.test(r?i[a]:a))return!0;return!1}var r,i,a,t=(navigator.appVersion,navigator.userAgent),o=navigator.appName,s=""+parseFloat(navigator.appVersion),u=parseInt(navigator.appVersion,10);-1!=(i=t.indexOf("OPR/"))?(o="Opera",s=t.substring(i+4)):-1!==(i=t.indexOf("Opera"))?(o="Opera",s=t.substring(i+6),-1!==(i=t.indexOf("Version"))&&(s=t.substring(i+8))):-1!==(i=t.indexOf("MSIE"))?(o="IE",s=t.substring(i+5)):-1!==(i=t.indexOf("Chrome"))?(o="Chrome",s=t.substring(i+7)):-1!==(i=t.indexOf("Safari"))?(o="Safari",s=t.substring(i+7),-1!==(i=t.indexOf("Version"))&&(s=t.substring(i+8))):-1!==(i=t.indexOf("Firefox"))?(o="Firefox",s=t.substring(i+8)):(r=t.lastIndexOf(" ")+1)<(i=t.lastIndexOf("/"))&&(o=t.substring(r,i),s=t.substring(i+1),o.toLowerCase()===o.toUpperCase()&&(o=navigator.appName));var d=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveOrOpenBlob&&!navigator.msSaveBlob),c=/QQBrowser/.test(navigator.userAgent),v=/MetaSr/.test(navigator.userAgent),g=/BIDUBrowser/.test(navigator.userAgent),p=n(/^liebao/i,0);return d&&(o="Edge",s=parseInt(navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)[2],10).toString()),c&&(o="QQ",s=parseInt(navigator.userAgent.match(/QQBrowser\/(\d+).(\d+)/)[2],10).toString()),v&&(o="Sougou",s=parseInt(navigator.userAgent.match(/MetaSr (\d+).(\d+)/)[2],10).toString()),g&&(o="Baidu",s=parseInt(navigator.userAgent.match(/BIDUBrowser\/(\d+).(\d+)/)[2],10).toString()),p&&(o="Liebao",s=""),-1!==(a=s.indexOf(";"))&&(s=s.substring(0,a)),-1!==(a=s.indexOf(" "))&&(s=s.substring(0,a)),u=parseInt(""+s,10),isNaN(u)&&(s=""+parseFloat(navigator.appVersion),u=parseInt(navigator.appVersion,10)),{fullVersion:s,version:u,name:o}}function r(){var e="Unknown OS",n={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return n.Android()||n.BlackBerry()||n.iOS()||n.Opera()||n.Windows()},getOsName:function(){var e="Unknown OS";return n.Android()&&(e="Android"),n.BlackBerry()&&(e="BlackBerry"),n.iOS()&&(e="iOS"),n.Opera()&&(e="Opera Mini"),n.Windows()&&(e="Windows"),e}};return n.any()?e=n.getOsName():(-1!==navigator.appVersion.indexOf("Win")&&(e="Windows"),-1!==navigator.appVersion.indexOf("Mac")&&(e="OSX"),-1!==navigator.appVersion.indexOf("X11")&&(e="UNIX"),-1!==navigator.appVersion.indexOf("Linux")&&(e="Linux")),e}function i(n){if(!navigator.enumerateDevices&&e.MediaStreamTrack&&e.MediaStreamTrack.getSources&&(navigator.enumerateDevices=e.MediaStreamTrack.getSources.bind(e.MediaStreamTrack)),!navigator.enumerateDevices&&navigator.enumerateDevices&&(navigator.enumerateDevices=navigator.enumerateDevices.bind(navigator)),!navigator.enumerateDevices)return"undefined"!=typeof v&&(v.MediaDevices=s,v.hasMicrophone=u,v.hasSpeakers=d,v.hasWebcam=c),void(n&&n(null));s=[];try{navigator.enumerateDevices(function(e){e.forEach(function(e){var n={};for(var r in e)n[r]=e[r];"audio"===n.kind&&(n.kind="audioinput"),"video"===n.kind&&(n.kind="videoinput");var i;s.forEach(function(e){e.id===n.id&&e.kind===n.kind&&(i=!0)}),i||(n.deviceId||(n.deviceId=n.id),n.id||(n.id=n.deviceId),n.label||(n.label="Please invoke getUserMedia once.",g||(n.label="HTTPs is required to get label of this "+n.kind+" device.")),"audioinput"===n.kind&&(u=!0),"audiooutput"===n.kind&&(d=!0),"videoinput"===n.kind&&(c=!0),s.push(n))}),"undefined"!=typeof v&&(v.MediaDevices=s,v.hasMicrophone=u,v.hasSpeakers=d,v.hasWebcam=c),n&&n(null)})}catch(r){n&&n(r)}}function a(){var e=!1;return"undefined"!=typeof navigator.webkitGetUserMedia||"undefined"!=typeof navigator.mozGetUserMedia?e=!0:navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(e=!0),e}function t(){var n=!1;return n=["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection"].some(function(n){return n in e})}function o(){var n=!1;try{var r=e.RTCPeerConnection||e.webkitRTCPeerConnection||e.mozRTCPeerConnection;if(r){var i=new r({iceServers:[{url:"stun:0"}]});n="createDataChannel"in i}}catch(a){n=!1}return n}var s=[],u=!1,d=!1,c=!1;navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=function(e){navigator.mediaDevices.enumerateDevices().then(e)});var v=e.RTCDetect={},g="https:"===location.protocol;v.browser=n(),v.browser["is"+v.browser.name]=!0,v.osName=r(),v.getUserMediaSupport=a(),v.RTCPeerConnectionSupport=t(),v.dataChannelSupport=o(),v.WebSocketSupport="WebSocket"in e&&2===e.WebSocket.CLOSING,v.screenCaputringSupport=!1,v.browser.isChrome&&v.browser.version>=35&&(v.screenCaputringSupport=!0),g||(v.screenCaputringSupport=!1),v.ORTCSupport="undefined"!=typeof RTCIceGatherer,v.checkDeviceSupport=i,v.RTCatSupport=!1,(v.browser.isChrome||v.browser.isFirefox||v.browser.isOpera)&&(v.RTCatSupport=!0)}(window);